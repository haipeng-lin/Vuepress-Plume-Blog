---
title: 服务注册配置
permalink: /cloud/springcloud/v86jmpmv/
createTime: 2025/03/16 10:59:14
---
## 1.注册中心作用

用于实现每个微服务的服务注册和服务发现，管理维护各个服务的地址和元数据组件

## 2.实现方式

1. Eureka：Eureka 是 Netflix 开源的服务发现框架，具有高可用、弹性、可扩展等特点，并与 Spring Cloud 集成良好
2. Consul：Consul 是一种分布式服务发现和配置管理系统，由 HashiCorp 开发。它提供了服务注册、服务发现、健康检查、键值存储等功能，并支持多数据中心部署
3. ZooKeeper：ZooKeeper 是 Apache 基金会开源的分布式协调服务，可以用作服务注册中心。它具有高可用、一致性、可靠性等特点
4. Nacos：Nacos 是阿里巴巴开源的一个动态服务发现、配置管理和服务管理平台。它提供了服务注册和发现、配置管理、动态 DNS 服务等功能

> Eureka、Zookeeper、nacos

| 特性     | Eureka                       | Zookeeper                          | Nacos                              |
| -------- | ---------------------------- | ---------------------------------- | ---------------------------------- |
| 开发公司 | Netflix                      | Apache 基金会                      | 阿里巴巴                           |
| CAP      | **AP**（可用性和分区容忍性） | **CP**（一致性和分区容忍性）       | 既支持 AP，也支持 CP               |
| 功能     | 服务注册与发现               | 分布式协调、配置管理、分布式锁     | 服务注册与发现、配置管理、服务管理 |
| 访问协议 | HTTP                         | TCP                                | HTTP/DNS                           |
| 数据存储 | 内嵌数据库、多个实例形成集群 | ACID 特性的分布式文件系统 ZAB 协议 | 内嵌数据库、MySQL 等               |
| 特点     | 简单易用、自我保护机制       | 高性能、强一致性                   | 动态配置管理、流量管理、灰度       |

### 2.1 Eureka

> Eureka高可用的实现原理：

1. 多实例部署：通过将多个 Eureka Server 实例部署在不同的节点上，可以实现高可用性。
2. 服务注册信息的复制：当一个服务实例向 Eureka Server 注册时，每个 Eureka Server 实例都会复制其他实例的注册信息，以保持数据的一致性。
3. 自我保护机制：Eureka 还具有自我保护机制。当 Eureka Server 节点在一定时间内没有接收到心跳时，它会进入自我保护模式。在自我保护模式下，Eureka Server 不再剔除注册表中的服务实例，以保护现有的注册信息。这样可以防止由于网络抖动或其他原因导致的误剔除，进一步提高系统的稳定性。

### 2.2 Nacos

待写