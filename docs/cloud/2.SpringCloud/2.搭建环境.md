---
title: 搭建环境
createTime: 2025/07/01 14:37:57
permalink: /cloud/j5926fzn/
---

## 1.环境版本

- 注意，以下均为安装在 mac 环境下

| 技术            | 描述               | 版本     |
| --------------- | ------------------ | -------- |
| SpringCloud     | 微服务             | 2021.0.8 |
| NacosSpringBoot | 服务注册、配置框架 | 2.2.3    |
| Sentinel        | 服务限流、降级     | 1.8.7    |

## 2.Nacos

### 2.1 下载

- Nacos 官网：[Nacos](https://github.com/alibaba/nacos/releases)
- 下载 2.2.3 版本，并解压到 /usr/local/nacos 文件夹

![image-20250701150433428](https://img.haipeng-lin.cn/20251003010932.png)

### 2.2 持久化配置

- 新建一个数据库，命名为 project-nacos，运行 conf/mysql-schema.sql 文件
- 修改 conf/application.properties 配置

```properties
spring.datasource.platform=mysql
db.num=1
db.url.0=jdbc:mysql://127.0.0.1:3306/project-nacos?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true&useUnicode=true&useSSL=false&serverTimezone=UTC
db.user.0=root
db.password.0=20020307
```

### 2.3 修改为 standalone

修改 bin/startup.sh 配置，大约在 79 行位置，修改为 standlone

```sh
export SERVER="nacos-server"
export MODE="standalone"
```

### 2.4 运行/停止

- 运行 nacos ，bin 目录下进入终端

  ```
  sh startup.sh -m standalone
  ```

- 地址：localhost:8848/nacos

  ![image-20250701165644915](https://img.haipeng-lin.cn/20251003012141.png)

- 停止 nacos 

  ```
  sh shutdown.sh
  ```

## 3.Sentinel

### 3.1 下载安装

下载 1.8.7 版本

- Github 地址：[github](https://github.com/alibaba/Sentinel/releases)
- 文档地址：[文档地址](https://sentinelguard.io/zh-cn/docs/quick-start.html)

<img src="https://img.haipeng-lin.cn/20251003012148.png" alt="image-20250701190750977" style="zoom:33%;" />

### 3.2 运行 sentinel

- 运行命令

  ```
  java -jar sentinel-dashboard-1.8.7.jar
  ```

- sentinel 的默认端口是 8080，如果 8080 端口被占用，可以切换到别的端口运行

  ```
  java -jar sentinel-dashboard-1.8.7.jar --server.port=8081
  ```

- 管理端地址：http://localhost:8081，账号密码均为 sentinel

  

